{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nconst URL = \"http://localhost:3000/quiz\";\nconst header = {\n  headers: {\n    Authorization: 'Bearer ' + sessionStorage.getItem('token')\n  }\n};\nconst state = {\n  quizzes: [],\n  myQuizzes: [],\n  profile: ''\n};\nconst getters = {\n  allQuiz: state => state.quizzes,\n  myQuizzes: state => state.myQuizzes,\n  profile: state => state.profile\n};\nconst actions = {\n  async fetchQuizzes({\n    commit\n  }) {\n    const response = await axios.get(`${URL}`, header);\n    commit('setQuizzes', response.data);\n  },\n  async uploadImage({\n    commit\n  }, profile) {\n    const response = await axios.post('http://localhost:3000/image', profile);\n    console.log('============================');\n    commit('uploader', response.data);\n  },\n  async fetchMyQuizzes({\n    commit\n  }) {\n    const response = await axios.get(`${URL}/myQuiz/${sessionStorage.getItem('userId')}`, header);\n    commit('setMyQuizzes', response.data);\n  },\n  async editQuiz({\n    commit\n  }, body) {\n    await axios.put(`${URL}/${body.id}`, body, header);\n    commit('updateQuiz', body);\n  },\n  async createQuiz({\n    commit\n  }, body) {\n    await axios.post(`${URL}`, body, header);\n    commit('pushQuiz', body);\n  },\n  async getProfile({\n    commit\n  }) {},\n  deleteQuiz({\n    commit\n  }, id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`${URL}/${id}`, header);\n        commit('removeQuiz', id);\n      }\n    });\n  }\n};\nconst mutations = {\n  setQuizzes: (state, quiz) => state.quizzes = quiz,\n  setMyQuizzes: (state, quiz) => state.myQuizzes = quiz,\n  updateQuiz: (state, body) => {\n    const index = state.myQuizzes.findIndex(quiz => quiz.id === body.id);\n    if (index !== -1) {\n      state.myQuizzes.splice(index, 1, body);\n    }\n  },\n  setProfile: (state, profile) => {\n    state.profile = profile;\n  },\n  pushQuiz: (state, body) => {\n    console.log(body);\n    state.myQuizzes.unshift(body);\n    state.quizzes.unshift(body);\n  },\n  removeQuiz: (state, id) => {\n    state.myQuizzes = state.myQuizzes.filter(quiz => quiz.id !== id);\n    state.quizzes = state.quizzes.filter(quiz => quiz.id !== id);\n  },\n  uploader: data => {\n    state.profile = data;\n  }\n};\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["axios","Swal","URL","header","headers","Authorization","sessionStorage","getItem","state","quizzes","myQuizzes","profile","getters","allQuiz","actions","fetchQuizzes","commit","response","get","data","uploadImage","post","console","log","fetchMyQuizzes","editQuiz","body","put","id","createQuiz","getProfile","deleteQuiz","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete","mutations","setQuizzes","quiz","setMyQuizzes","updateQuiz","index","findIndex","splice","setProfile","pushQuiz","unshift","removeQuiz","filter","uploader"],"sources":["C:/Users/USer/Desktop/quiz folder/quiz-app-vue/front/src/store/modules/quiz.js"],"sourcesContent":["import axios from \"axios\"\r\nimport Swal from 'sweetalert2'\r\n\r\nconst URL = \"http://localhost:3000/quiz\"\r\n\r\nconst header = { headers: {\r\n    Authorization: 'Bearer ' + sessionStorage.getItem('token'),\r\n}}\r\n\r\nconst state = {\r\n    quizzes: [],\r\n    myQuizzes: [],\r\n    profile: ''\r\n}\r\n\r\n\r\nconst getters = {\r\n    allQuiz: state => state.quizzes,\r\n    myQuizzes: state => state.myQuizzes,\r\n    profile: state => state.profile\r\n}\r\n\r\n\r\nconst actions = {\r\n    async fetchQuizzes({commit}) {\r\n        const response = await axios.get(`${URL}`, header)\r\n        commit('setQuizzes', response.data)\r\n    },\r\n\r\n    async uploadImage({commit}, profile) {\r\n        const response = await axios.post('http://localhost:3000/image', profile)\r\n        console.log('============================');\r\n        commit ('uploader', response.data)\r\n    },\r\n\r\n    async fetchMyQuizzes({commit}) {\r\n        const response = await axios.get(`${URL}/myQuiz/${sessionStorage.getItem('userId')}`, header)\r\n        commit('setMyQuizzes', response.data)\r\n    },\r\n\r\n    async editQuiz({commit}, body) {\r\n        await axios.put(`${URL}/${body.id}`, body, header)\r\n        commit('updateQuiz', body)\r\n    },\r\n\r\n    async createQuiz({commit}, body) {\r\n        await axios.post(`${URL}`, body, header)\r\n        commit('pushQuiz', body)\r\n    },\r\n\r\n    async getProfile({commit}, ) {\r\n        \r\n    },\r\n\r\n    deleteQuiz({commit}, id) {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                axios.delete(`${URL}/${id}`,header)\r\n                commit('removeQuiz', id)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n    const mutations = {\r\n    setQuizzes: (state, quiz) => (state.quizzes = quiz),\r\n    \r\n    setMyQuizzes: (state, quiz) => (state.myQuizzes = quiz),\r\n\r\n    updateQuiz: (state, body) => {\r\n        const index = state.myQuizzes.findIndex(quiz => quiz.id === body.id)\r\n        if (index !== -1) {\r\n          state.myQuizzes.splice(index, 1, body)\r\n        }\r\n    },\r\n\r\n    setProfile: (state, profile) => {state.profile = profile},\r\n\r\n    pushQuiz: (state, body) => {\r\n        console.log(body);\r\n        state.myQuizzes.unshift(body)\r\n        state.quizzes.unshift(body)\r\n\r\n    },\r\n\r\n    removeQuiz: (state, id) => {\r\n        state.myQuizzes = state.myQuizzes.filter(quiz => quiz.id !== id)\r\n        state.quizzes = state.quizzes.filter(quiz => quiz.id !== id)\r\n    },\r\n\r\n    uploader: (data) => {\r\n        state.profile = data\r\n    }\r\n}\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}